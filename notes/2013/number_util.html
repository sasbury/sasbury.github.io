<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>sasbury.com</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Stephen Asbury">

    <link rel="shortcut icon" href="/static/img/rad_tiny.ico" />
 
    <!-- CSS -->
    <link href='https://fonts.googleapis.com/css?family=Ubuntu' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Rokkitt' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=PT+Mono' rel='stylesheet' type='text/css'>
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="/static/css/prettify.css" rel="stylesheet">
    <link href="/static/css/sasbury.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>

  <body>

    <div id="wrap">

      <!-- Begin page content -->
      <div class="container">
        <div class="page-header">
          <h1><a class="homepage" href="/"><img src="/static/img/rad_small.png"> sasbury.com</a></h1>
        </div>

        <div id="content">
           

    <div class="pull-right">
        <a href="/notes/">Back to notebook</a>
    </div>

    <h2>Number Utils</h2>

    <div>
        <p>I have, on a few occasions, needed some utilities to convert numbers to binary, so I created a class that will do this for the various numbers in Java and am making it available on <a href="https://github.com/sasbury/numberutils_java">GitHub</a> for people to do what they will.</p>
<p>For example, to convert from a short to binary I do:</p>
<pre class="codehilite"><code>public static byte[] convertToBinary(short s)
{
    byte[] retVal = new byte[2];

    retVal[0] = (byte) ((s &gt;&gt;&gt; 0) &amp; 0xFF);
    retVal[1] = (byte) ((s &gt;&gt;&gt; 8) &amp; 0xFF);

    return retVal;
}
</code></pre>

<p>and to get it back to a short I do:</p>
<pre class="codehilite"><code>public static short convertToShort(byte[] bytes)
{
    short retVal = 0;
    int i,j;

    if(bytes.length &gt; 1)
    {
        i = (int) bytes[0];
        j = (int) bytes[1];

        if(j &lt; 0) j = -(j ^ 0xff) - 1;
        if(i &lt; 0) i = -(i ^ 0xff) - 1;

        retVal = (short) ((i &lt;&lt; 0) + (j &lt;&lt; 8));
    }
    else if(bytes.length == 1)
    {
        i = (int) bytes[0];
        retVal = (short) (i &lt;&lt; 0);
    }

    return retVal;
}
</code></pre>

<p>Note that I support an array of 1 or 2 bytes, so that you can pack things as you want.</p>
<p>There are a number of methods to take a number and encoded it onto an interval using steps. This allows you to compact a number into a small binary representation with some loss flexibility and/or accuracy.</p>
<p>I also wrote a really simple method that returns the closest prime less than or equal to any number up to 11,000. The goal was for supporting prime array sizes in hash tables. Finally there is a method to convert the sum of all numbers up to and including the number you pass in. This is a nice example of using an algorithm instead of brute force.</p>
<pre class="codehilite"><code>public static int calculateSum(int n)
{
    int retVal = 0;

    if(n%2==1)
    {
        retVal = ((n-1)/2)*n;
        retVal += n;
    }
    else
    {
        retVal = (n/2)*n;
        retVal += n/2;
    }

    return retVal;
}
</code></pre>

<p><a href="https://github.com/sasbury/numberutils_java">GitHub Repository</a></p>
    </div>

     
        <div class="post_date_bottom">- Stephen (archive)</div>
    

    <div>
        

        
            <a href="/tag/java/" class="tag">
                java
            </a>
        

        
    </div>
    
    <div class="pull-right">
        <a href="/notes/">Back to notebook</a>
    </div>


        </div>

      </div>

      <div id="push"></div>
    </div>

    <div id="footer">
      <div class="container">
        <div class="pull-right social">
          
          
          <div class="rss">
            <a href="/notes/sasbury_rss.xml">
              <img src="/static/img/rss.png"/>
            </a>
          </div>

          <div class="github">
            <a href="https://github.com/sasbury">
              <img src="/static/img/github_mark.png"/>
            </a>
          </div>

          <div class="linkedin">
            <a href="https://www.linkedin.com/pub/stephen-asbury/36/230/973">
              <img src="https://static.licdn.com/scds/common/u/img/webpromo/btn_in_20x15.png" width="24" height="18" alt="View Stephen Asbury's LinkedIn profile">
            </a>
          </div>

          <a href="https://twitter.com/thesasbury" class="twitter-follow-button" data-show-count="false">Follow @thesasbury</a>

          <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

        <p class="muted credit">Copyright &copy; 2015-2019 Stephen Asbury</p>
      </div>
    </div>

    <script src="/static/js/jquery.js"></script>
    <script src="/static/js/bootstrap.js"></script>
    <script src="/static/js/prettify.js"></script>
    <script src="/static/js/viz.js"></script>
    <script type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <script src="/static/js/sasbury.js"></script>

    <script>
 
    $(document).ready(function() {
        processSpecials();
    });
    </script>
  </body>
</html>